{"bsonType":"object","required":["title","date","startTime"],"permission":{"read":true,"create":true,"update":true,"delete":true},"properties":{"_id":{"description":"ID，系统自动生成"},"title":{"bsonType":"string","description":"日程标题","maxLength":100,"errorMessage":{"required":"请填写日程标题"}},"date":{"bsonType":"string","description":"日期","format":"date","errorMessage":{"required":"请选择日期"}},"startTime":{"bsonType":"string","description":"开始时间","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$","errorMessage":{"required":"请选择开始时间","pattern":"时间格式不正确，请使用HH:MM格式"}},"endTime":{"bsonType":"string","description":"结束时间","pattern":"^([01]\\d|2[0-3]):([0-5]\\d)$","errorMessage":{"pattern":"时间格式不正确，请使用HH:MM格式"}},"location":{"bsonType":"string","description":"地点","maxLength":200},"participants":{"bsonType":"string","description":"参与人","maxLength":500},"notes":{"bsonType":"string","description":"备注","maxLength":1000},"deviceId":{"bsonType":"string","description":"创建日程的设备ID"},"reminder":{"bsonType":"object","description":"提醒信息","properties":{"time":{"bsonType":"timestamp","description":"提醒时间戳"},"minutes":{"bsonType":"int","description":"提前多少分钟提醒","minimum":0,"maximum":10080},"pushClientId":{"bsonType":"string","description":"设备推送标识"},"sent":{"bsonType":"bool","description":"提醒是否已发送","defaultValue":false}}},"createTime":{"bsonType":"timestamp","description":"创建时间","forceDefaultValue":{"$env":"now"}},"updateTime":{"bsonType":"timestamp","description":"更新时间","forceDefaultValue":{"$env":"now"}}},"fieldRules":{"endTime":[{"range":["startTime",null]}]}}